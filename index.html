<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Looking Glass </title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Icon links -->
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="manifest" href="icons/site.webmanifest">
  <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" type="image/x-icon" href="icons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="icons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/custom.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">download more ram</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <h1 class="channelID" onclick="peers.roomPrompt();">Current Room: 0001</h1>
  <div class="dash">
    <div class="screenShare">
      <video onclick="toggleFullscreen(event);" autoplay></video>
      <button class="btn btn-primary" onclick="user.getScreen();">Screens</button>
    </div>
    <div class="name">
      <p onclick="user.usernamePrompt();" class="username">_USERNAME_</p>
      <p class="status">_STATUS_</p>
    </div>
    <div class="cameraShare">
      <video onclick="toggleFullscreen(event);" autoplay></video>
      <button class="btn btn-primary cameraButton" onclick="cameraAccessHandler();">Cameras</button>
      <select class="form-control cameraList" onchange="user.getCamera(event);" hidden>
        <option></option>
      </select>
    </div>
  </div>
  <div class="dash-placeholder"></div>
  <div class="users">
    <!-- Users are filled with peer-dash templates -->
  </div>
  <div class="chatArea">
    <div class="textLog"></div>
    <div class="textChat input-group mb-3">
      <input type="text" class="form-control" onkeypress="chat.addToChat(user.username, event);"
        placeholder="type to chat silly" aria-label="chat box">
      <div class="input-group-append">
        <button onclick="chat.addToChat(user.username);" class="btn btn-outline-secondary" type="button">Send</button>
      </div>
    </div>
  </div>
  <!-- Templates -->
  <template id="peer-dash">
    <div class="peer-dash" id="_ID_">
      <div class="screen">
        <video onclick="toggleFullscreen(event)" autoplay></video>
      </div>
      <div class="name">
        <p>_USERNAME_</p>
        <p>_STATUS_</p>
      </div>
      <div class="camera">
        <video onclick="toggleFullscreen(event)" autoplay></video>
      </div>
    </div>
  </template>

  <script src="js/vendor/modernizr-3.8.0.min.js"></script>
  <script src="js/client.js"></script>
  <script src="js/peers.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/main.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>

  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\/script>')</script>
  <script src="js/plugins.js"></script>


  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set', 'transport', 'beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script>
  <script>
    const user = new Client;
    const peers = new Peers;
    const chat = new Chat;

    user.usernamePrompt();

    window.onload = (event) => {
      // start lifecycle

    };
  </script>
</body>

</html>